<vex-page-layout @stagger [ngStyle]="{'display': verVendedoresPermiso() == 1 ?  'initial' : verVendedoresPermiso() == 2 ? 'none' : '' }">
    <vex-page-layout-content fxLayout="column">

        <div class="card overflow-auto mt-5 "
            style="box-shadow: var(--elevation-z0);border: 0px solid rgba(0, 0, 0, 0.125);">
            <div fxLayout="row" fxFlex fxLayoutAlign="center stretch" fxLayoutGap="8px"
                [ngClass]="{'hidden': !alertIsVisible}" class="p-6 mt-6" style="border-radius: 4px;position:relative;">

                <form fxLayout="row" fxFlex.gt-xs fxLayout.xs="column" fxLayoutAlign="end" fxLayoutAlign.sm="end end"
                    fxItemAlign="end" fxItemAlign.xs="end" fxLayoutGap="50px" fxLayoutGap.xs="50px"
                    [formGroup]="filters">
                    <button [ngStyle]="{'display': editarVendedoresPermiso() == 1 ? 'inherit' :  editarVendedoresPermiso() == 2 ? 'none' : '' }"
                        mat-flat-button color="primary" (click)="registrarUsuarioModal()"
                        class=" celda_bt buttom_1">Agregar Vendedor</button>
                </form>
            </div>

        </div>

                     
      <div fxLayout="row" fxflex class="p-4 table-controls" fxLayoutGap="8px">
        <form fxLayout="row" fxFlex.gt-xs fxLayout.xs="column" fxLayoutAlign="start center"
            fxLayoutAlign.sm="start start" fxItemAlign="center" fxItemAlign.xs="start" fxLayoutGap="24px"
            fxLayoutGap.xs="12px" [formGroup]="filters">
            <mat-form-field appearance="outline" fxFlexAlign.xs="stretch" style="width: 100%;" class="bold-form"
                floatLabel="always">
                <mat-label>Cliente</mat-label>
                <input matInput (keyup)="searchKeyUp($event)" #search placeholder="Nombre del  Cliente..."
                    formControlName="search" />
            </mat-form-field>
        </form>
    </div>

            <table @stagger [dataSource]="patients" class="w-full"  mat-table
                matSort> <!--(matSortChange)="sortRecords($event)"-->
                <ng-container matColumnDef="id" class="tabla-estatica">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Codigo</th>
                    <td mat-cell *matCellDef="let row" class="">
                        {{row.id}}
                    </td>
                </ng-container>
                <!-- Type Column -->
                <ng-container matColumnDef="nombre" class="tabla-estatica">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
                    <td mat-cell *matCellDef="let row" class="pl-0">
                        {{row.name}}
                    </td>
                </ng-container>
                <ng-container class="tabla-estatica"
                    matColumnDef="cedula">
                  <th mat-header-cell
                      *matHeaderCellDef mat-sort-header>Cedula</th>
                  <td mat-cell
                      *matCellDef="let row" class="pl-0">
                      {{row.identity}}
                  </td>
              </ng-container>
                <ng-container matColumnDef="telefono" class="tabla-estatica">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Telefono</th>
                    <td mat-cell *matCellDef="let row" class="pl-0">
                        {{row.phone }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="email" class="tabla-estatica">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
                    <td mat-cell *matCellDef="let row" class="pl-0">
                        {{row?.email}}
                    </td>
                </ng-container>
                
                <ng-container matColumnDef="options" class="tabla-estatica">
                    <th mat-header-cell *matHeaderCellDef>Acciones</th>
                    <td mat-cell *matCellDef="let row" class="no-pad">



                        <button [ngStyle]="{'display': editarVendedoresPermiso() == 2 ? 'inherit' :  editarVendedoresPermiso() == 1 ? 'none' : '' }"
                        mat-icon-button type="button" style="opacity: .2;">
                            <mat-icon [icIcon]="edit" class="c-azul"></mat-icon>
                        </button>

                        <button [ngStyle]="{'display': editarVendedoresPermiso() == 2 ? 'inherit' :  editarVendedoresPermiso() == 1 ? 'none' : '' }"
                            mat-icon-button type="button" style="opacity: .2;">
                            <mat-icon [icIcon]="baselineDeleteForever" color="red"></mat-icon>
                        </button>



                        <button [ngStyle]="{'display': editarVendedoresPermiso() == 1 ? 'inherit' :  editarVendedoresPermiso() == 2 ? 'none' : '' }"
                            mat-icon-button type="button" (click)="registrarUsuarioModal(row.id)">
                            <mat-icon [icIcon]="edit" class="c-azul"></mat-icon>
                        </button>

                        <button [ngStyle]="{'display': editarVendedoresPermiso() == 1 ? 'inherit' :  editarVendedoresPermiso() == 2 ? 'none' : '' }"
                            mat-icon-button type="button" (click)="delete(row)">
                            <mat-icon [icIcon]="baselineDeleteForever" color="red"></mat-icon>
                        </button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
        
        <mat-paginator [length]="resultsLength" [pageSizeOptions]="pageSizeOptions"
            [pageSize]="pageSize" class="sticky left-0">
        </mat-paginator>


    </vex-page-layout-content>
</vex-page-layout>